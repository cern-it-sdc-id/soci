diff -ru soci-3.0.0/src/backends/mysql/common.h soci-3.0.0_4-pack/src/backends/mysql/common.h
--- soci-3.0.0/src/backends/mysql/common.h	2008-07-03 09:22:57.000000000 +0200
+++ soci-3.0.0_4-pack/src/backends/mysql/common.h	2009-05-05 23:32:22.000000000 +0200
@@ -10,6 +10,7 @@
 
 #include <sstream>
 #include "soci-mysql.h"
+#include <ctime>
 
 namespace soci
 {
diff -ru soci-3.0.0/src/backends/mysql/session.cpp soci-3.0.0_4-pack/src/backends/mysql/session.cpp
--- soci-3.0.0/src/backends/mysql/session.cpp	2008-05-15 15:58:38.000000000 +0200
+++ soci-3.0.0_4-pack/src/backends/mysql/session.cpp	2009-05-05 23:32:22.000000000 +0200
@@ -11,7 +11,8 @@
 #include <cctype>
 #include <cerrno>
 #include <ciso646>
-
+#include <cstdlib>
+#include <climits>
 
 #ifdef _MSC_VER
 #pragma warning(disable:4355)
diff -ru soci-3.0.0/src/backends/mysql/standard-into-type.cpp soci-3.0.0_4-pack/src/backends/mysql/standard-into-type.cpp
--- soci-3.0.0/src/backends/mysql/standard-into-type.cpp	2008-05-30 13:33:45.000000000 +0200
+++ soci-3.0.0_4-pack/src/backends/mysql/standard-into-type.cpp	2009-05-05 23:32:22.000000000 +0200
@@ -12,6 +12,8 @@
 #include "common.h"
 #include <ciso646>
 #include <cassert>
+#include <ctime>
+#include <cstring>
 
 #ifdef _MSC_VER
 #pragma warning(disable:4355)
diff -ru soci-3.0.0/src/backends/mysql/standard-use-type.cpp soci-3.0.0_4-pack/src/backends/mysql/standard-use-type.cpp
--- soci-3.0.0/src/backends/mysql/standard-use-type.cpp	2008-05-15 15:58:38.000000000 +0200
+++ soci-3.0.0_4-pack/src/backends/mysql/standard-use-type.cpp	2009-05-05 23:32:22.000000000 +0200
@@ -9,9 +9,16 @@
 #define SOCI_MYSQL_SOURCE
 #include "soci-mysql.h"
 #include "common.h"
-#include <soci-platform.h>
+//
+#if defined(SOCI_HEADERS_BURIED)
+#       include <soci/core/soci-platform.h>
+#else
+#	include <soci-platform.h>
+#endif
+//
 #include <ciso646>
 #include <limits>
+#include <cstdio>
 #include <cstring>
 
 #ifdef _MSC_VER
diff -ru soci-3.0.0/src/backends/mysql/vector-use-type.cpp soci-3.0.0_4-pack/src/backends/mysql/vector-use-type.cpp
--- soci-3.0.0/src/backends/mysql/vector-use-type.cpp	2008-05-15 15:58:38.000000000 +0200
+++ soci-3.0.0_4-pack/src/backends/mysql/vector-use-type.cpp	2009-05-05 23:32:22.000000000 +0200
@@ -9,10 +9,18 @@
 #define SOCI_MYSQL_SOURCE
 #include "soci-mysql.h"
 #include "common.h"
-#include <soci-platform.h>
+//
+#if defined(SOCI_HEADERS_BURIED)
+#       include <soci/core/soci-platform.h>
+#else
+#	include <soci-platform.h>
+#endif
+//
 #include <ciso646>
 #include <limits>
+#include <cstdio>
 #include <cstring>
+#include <ctime>
 
 #ifdef _MSC_VER
 #pragma warning(disable:4355)
diff -ru soci-3.0.0/src/backends/postgresql/common.cpp soci-3.0.0_4-pack/src/backends/postgresql/common.cpp
--- soci-3.0.0/src/backends/postgresql/common.cpp	2008-06-27 16:38:05.000000000 +0200
+++ soci-3.0.0_4-pack/src/backends/postgresql/common.cpp	2009-05-05 23:32:22.000000000 +0200
@@ -6,8 +6,15 @@
 //
 
 #include "common.h"
-#include <soci-backend.h>
+//
+#if defined(SOCI_HEADERS_BURIED)
+#       include <soci/core/soci-backend.h>
+#else
+#	include <soci-backend.h>
+#endif
+//
 #include <cstdlib>
+#include <cstdio>
 #include <ctime>
 
 
diff -ru soci-3.0.0/src/core/soci-simple.cpp soci-3.0.0_4-pack/src/core/soci-simple.cpp
--- soci-3.0.0/src/core/soci-simple.cpp	2008-07-01 09:42:25.000000000 +0200
+++ soci-3.0.0_4-pack/src/core/soci-simple.cpp	2009-05-05 23:33:57.000000000 +0200
@@ -9,6 +9,8 @@
 
 #include "soci-simple.h"
 #include "soci.h"
+//
+#include <cstdio>
 
 using namespace soci;
 
